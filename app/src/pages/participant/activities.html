<div class="fixed-header">
    <div class="fixed-header-title">
        <div class="fixed-header-heading">
            <div class="ui breadcrumb">
                <a class="section" href="#/participants" data-bind="visible: isPublicObs">Participants</a>
                <a class="section" href="#/enrollees" data-bind="visible: !isPublicObs()">Participants</a>
                <i class="right chevron icon divider"></i>
            </div>            
            <h3 data-bind="html: titleObs"></h3>
        </div>
        <div class="fixed-header-buttons">
            <button class="ui red tiny button" data-bind="click: deleteActivities, disable: itemsObs().length === 0">Delete all activities</button>
        </div>
    </div>
    <!-- ko component: {name: 'participant-tabset', params: {active: 'activities', isNewObs: isNewObs,
        isPublicObs: isPublicObs}} --><!-- /ko -->
</div>
<div class="scrollbox">
    <errors></errors>
    <p>This table shows the activities that were issued to the participant based on your schedules, along with any information we've received 
        back about their status toward completion. If there are no activities (but you have schedules, and other users have 
        activities), then this participant has not yet contacted the server. This view is not filtered based on any data groups or other 
        criteria, so if these criteria change on the user, you're seeing all the tasks that have been issued, regardless of the user's state. </p>
    <div class="line-control">
        <div class="line-control-stretch">
        </div>
        <div>
            <!-- ko component: {name:'ddb_pager', params: {loadingFunc: loadingFunc, 
                pageKey: 'activities', top: true, showAssignment: false, showSearch: false}
            } --><!-- /ko -->
        </div>
    </div>
    <table class="ui compact selectable table">
        <thead>
            <tr>
                <th>Activity</th>
                <th>Status</th>
                <th>Schedule Window</th>
                <th>Execution Time</th>
            </tr>
        </thead>
        <tbody class="no_records" data-bind="visible: itemsObs().length === 0">
            <tr>
                <td colspan="4" data-bind="html: recordsMessageObs"></td>
            </tr>
        </tbody>        
        <tbody data-bind="foreach: itemsObs">
            <tr data-bind="css: {hasBorder: $parent.displayBorder($data, $index),
                disabled: $data.status === 'expired'}">
                <td data-bind="attr: {title: $parent.formatTitleCase($data.activity.activityType)}">
                    <i data-bind="css: $parent.formatActivityClass($data)"></i>
                    <a target="_blank" rel="noopener" data-bind="text: $parent.formatActivity($data), 
                        attr:{href: '#/scheduleplans/'+$data.schedulePlanGuid}"></a>
                </td>
                <td data-bind="text: $parent.formatTitleCase($data.status)"></td>
                <td>
                    <span data-bind="text: $parent.formatDateTime($data.scheduledOn)">
                    </span>&mdash;<span data-bind="text: $parent.formatDateTime($data.expiresOn)">
                    </span>
                </td>
                <td>
                    <span data-bind="text: $parent.formatDateTime($data.startedOn)">
                    </span>&mdash;<span data-bind="text: $parent.formatDateTime($data.finishedOn)">
                    </span>
                </td>
            </tr>
        </tbody>
    </table>
    <!-- ko component: {name:'ddb_pager', params: {loadingFunc: loadingFunc, 
        pageKey: 'activities', top: true, showAssignment: false, showSearch: false}
    } --><!-- /ko -->
</div>
