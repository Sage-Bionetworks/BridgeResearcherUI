<div class="fixed-header">
  <div class="fixed-header-title">
    <div class="fixed-header-heading">
      <h3>Scheduling Events</h3>
    </div>
    <div class="fixed-header-buttons">
      <button data-bind="click: save" class="ui tiny primary button">Save</button>
    </div>
  </div>
  <events-tabset></events-tabset>
</div>
<bsm-layout id="auto-custom-events">
  <div slot="content">
    <div data-bind="foreach: itemsObs">
      <div class="auto_event">
        <div style="padding-right:1.5rem">
          <label>Event ID</label>
          <input class="ui input" data-bind="textInput: eventKeyObs" />
        </div>
        <div>
          <label>Schedule for</label>
          <div style="display:flex">
            <ui-duration style="margin-right: 1.5rem" params="fieldObs: periodObs, 
              fields: 'days weeks months years'"></ui-duration>
            <select style="width: 8rem; margin-right: .5rem" class="ui dropdown"
              data-bind="options: $parent.allDeltasObs, optionsText: 'label', 
                optionsValue: 'value', value: deltaObs">
            </select>
            <select class="ui dropdown" data-bind="options: $parent.allEventsObs,
                optionsText: 'label', optionsValue: 'value', value: originEventObs">
            </select>
          </div>
        </div>
        <div class="activity-controls">
          <i class="red large times circle outline link icon"
            data-bind="fadeRemove: { selector: '.auto_event', object: $data, collection: 'itemsObs'}"></i>
        </div>
      </div>
    </div>
    <button data-bind="click: addCustomEvent" class="ui tiny button">Add Custom Event</button>
  </div>
  <div slot="help">
    <p>At the time the participant enrolls in a study, you can create additional events for the user (beyond the time the user enrolled) against which you can schedule activities. </p>
    <p>For example, if you wanted to have four periods over a year when the user does a sequence of activities for a few days, you could create event keys for each of these periods, and then schedule sequences against those events. The events could be at 3, 6, and 9 months after enrollment. These events would all be created for the user when they enroll and will be visible in the user’s event map. </p>
    <p>When creating a schedule, you will be able to select that event key in the “when to start scheduling” editor. </p>
  </div>
</bsm-layout>
