<div class="fixed-header">
    <div class="fixed-header-title">
        <h3>External Identifiers</h3>
        <div class="fixed-header-buttons" data-bind="visible: showRecordsObs">
            Records: <span data-bind="text: recordsObs()"></span>
            <button style="margin-left: 3rem" class="ui primary small button" data-bind="click: importer">Import</button>
        </div>
    </div>
    <div class="empty-secondary-menu"></div>
</div>
<div class="scrollbox">
    <div class="ui grid">
        <div class="ten wide column">
            <div data-bind="visible: !showRecordsObs()">
                <p>External identifier management not enabled. </p>
                <p>
                    <button class="ui primary small button" data-bind="click: manage">Enable External ID Management</button>
                </p>
            </div>
            <div data-bind="visible: showRecordsObs">
                <!-- ko component: {name:'ddb_pager', params: 
                    {loadingFunc: loadingFunc, pageKey: 'external-ids-page', top: true}
                } --><!-- /ko -->
                <div class="loading_status" data-bind="visible: itemsObs().length === 0" style="margin: 1rem 0">Loading...</div>
                <table class="ui compact selectable table" data-bind="visible: itemsObs().length > 0">
                    <thead>
                        <tr>
                            <th>Identifier</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: itemsObs">
                        <tr>
                            <td style="white-space: nowrap; width:100%" data-bind="text: $data.identifier"></td>
                            <td style="white-space: nowrap">
                                <div data-bind="visible: $data.assigned">
                                    <i class="green check icon"> </i> Reserved
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <!-- ko component: {name:'ddb_pager', params: 
                    {loadingFunc: loadingFunc, pageKey: 'external-ids-page', top: false}
                } --><!-- /ko -->
            </div>            
        </div>
        <div class="six wide column">
            <div class="ui message">
                <p>Participants can be assigned an <em>external ID</em> that will be exported with their health data. 
                Typically you are planning to provide this ID as part of onboarding users, though it can be added 
                later through this application.</p>
                  
                <p>External IDs can be used:</p>
                <ol>
                    <li>to re-identify participants to contact them outside the mobile study;</li>
                    <li>to relate external health data about participants to the data collected by your study.</li>
                </ol>
                <p>These IDs can be any string. However, if you enable ID management in Bridge, it will ensure 
                    that an ID is assigned at sign up, never to more than one user, and that it is not changed 
                    later through the user profile API. This feature can also help prevent users from 
                    mistyping the identifier during sign up. <p>
            </div>
        </div>
    </div>
</div>
