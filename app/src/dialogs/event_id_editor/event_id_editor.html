<div class="ui small modal">
    <i class="close icon"></i>
    <div class="header">
        Edit Scheduling Events
    </div>
    <div class="content">
        <div class="ui grid">
            <div class="eight wide column">
                <form class="ui form">
                    <div class="field">
                        <ui-checkbox params="checkedObs: enrollmentObs">
                            Schedule these activities when:
                        </ui-checkbox>
                    </div>
                    <div style="margin-left: 2rem" class="grouped fields" data-bind="css:{disabled: !enrollmentObs()}">
                        <div class="field">
                            <div class="ui radio checkbox">
                                <input type="radio" name="enrollment_offset" value="enrollment" 
                                     id="e1" data-bind="checked: enrollmentPeriodObs">
                                <label for="e1">Participant enrolls</label>
                            </div>
                        </div>
                        <div class="field">
                            <div class="ui radio checkbox">
                                <input type="radio" name="enrollment_offset" value="two_weeks_before_enrollment"  
                                    id="e2" data-bind="checked: enrollmentPeriodObs">
                                <label for="e2">Two weeks before participant enrolls<span style="color:#B22222"> *</span></label>
                            </div>
                        </div>
                        <div class="field">
                            <div class="ui radio checkbox">
                                <input type="radio" name="enrollment_offset" value="two_months_before_enrollment"  
                                    id="e3" data-bind="checked: enrollmentPeriodObs">
                                <label for="e3">Two months before participant enrolls<span style="color:#B22222"> *</span></label>
                            </div>
                        </div>
                    </div>
                    <div class="ui horizontal divider">and / or</div>
                    <div class="fields">
                        <div class="field">
                            <ui-checkbox params="checkedObs: activityFinishedObs">
                                When this activity is finished:
                            </ui-checkbox>
                        </div>
                    </div>
                    <div style="margin-left: 2rem" class="grouped fields">
                        <div class="field">
                            <span data-bind="visible: !hasActivitiesObs()">There are no other schedules with activities you can schedule against.</span>
                            <select class="ui dropdown" data-bind="visible: hasActivitiesObs, options: activityOptionsObs,
                                optionsText: 'label', optionsValue: 'value', value: activityObs,
                                optionsCaption: 'Select activity...', css:{disabled: !activityFinishedObs()}"></select>                                
                        </div>
                    </div>
                </form>
            </div>
            <div class="eight wide column">
                <div style="text-indent: -.6rem; margin-left: .6rem">
                    <span style="color:#B22222">* </span> For activities that run for a specific time on the calendar
                    (e.g. a survey for the week of September 4-10, 2016), these events start before the &ldquo;event 
                    in progress&rdquo; to ensure that participants who join the study during that time period will be 
                    scheduled to do this activity, even though it started before they joined.<br><br> (This is a niche use 
                    case. &ldquo;At time of enrollment&rdquo; is usually best.)
                </div>
            </div>
        </div>
    </div>
    <div class="actions">
        <button class="ui primary small button" data-bind="click: saveAndCloseDialog">Save</button>
        <button class="ui small button" data-bind="click: clearAndCloseDialog">Clear</button>
        <button class="ui small button" data-bind="click: closeDialog">Cancel</button>
    </div>
</div>
