<div class="ui small modal">
    <div class="header">
        Export Participants
    </div>
    <div class="content">
        <p>Any search filters you create will be used when exporting. You can limit export to certain email addresses, or a date range. </p>
        <div class="ui info message" 
            data-bind="visible: filterMessageObs().length > 0" 
            style="margin-top: 0; margin-bottom:.75rem">
            <!-- ko foreach: filterMessageObs -->
                <div data-bind="html: $data"></div>
            <!-- /ko -->
        </div>
        <progress data-bind="attr:{ value: valueObs, max: maxObs}"></progress>
        <div class="progress-status">
            <div data-bind="text: statusObs"></div>
            <div class="progress-status-perc" data-bind="text: percentageObs"></div>
        </div>
        <div class="batch-process-errors" data-bind="visible: errorMessagesObs().length > 0">
            <ul class="ui text red" data-bind="foreach: errorMessagesObs">
                <li data-bind="text: $data"></li>
            </ul>
        </div>        
        <div class="field" style="margin-top:1rem">
            <ui-checkbox params="checkedObs: canContactByEmailObs">
                Only include participants you can contact by email
            </ui-checkbox>
        </div>
    </div>
    <div class="actions">
        <button class="ui small primary button" data-bind="click: startExport, 
            visible: !enableObs()">Start</button>
        <button class="ui small primary button" data-bind="click: download, 
            visible: enableObs">Download</button>
        <button class="ui small button" data-bind="click: close">Cancel</button>
    </div>
</div>
