<div class="ui small modal">
  <i data-bind="click:close" class="close icon"></i>
  <div class="header" data-bind="text: titleObs"></div>
  <div class="content">
    <errors></errors>
    <form id="thisForm" class="ui form" data-bind="submitByButton: 'thisFormSubmit'">
      <div class="field" id="identifier" data-bind="visible: showIdentifierObs">
        <label>Report identifier</label>
        <input type="text" data-bind="textInput: identifierObs, hasFocus: true" />
      </div>
      <div class="two fields">
        <div class="field" id="date">
          <label>Date</label>
          <input data-bind="flatpickr: dateObs" />
        </div>
        <div class="field tag-editor substudyIds" data-bind="visible: isAddObs">
          <label>Restricted to substudies</label>
          <tag-editor params="selectedObs: substudyIdsObs, 
            allObs: substudyOptionsObs, type: 'substudy IDs'"></tag-editor>
        </div>
        <div class="field" data-bind="visible: !isAddObs()">
          <label>Restricted to substudies</label>
          <div class="inline-form-text" data-bind="text: (substudyIdsObs() || []).join(', ')"></div>
        </div>
      </div>
      <div class="field" id="data">
        <label>JSON</label>
        <textarea data-bind="textInput: dataObs"></textarea>
      </div>
    </form>
  </div>
  <div class="actions">
    <button type="submit" form="thisForm" id="thisFormSubmit" class="ui small primary button" data-bind="click: save">
      Save
    </button>
    <button class="ui small button" data-bind="click: close">Close</button>
  </div>
</div>
