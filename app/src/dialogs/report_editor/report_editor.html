<div class="ui small modal">
  <i data-bind="click:close" class="close icon"></i>
  <div class="header" data-bind="text: titleObs"></div>
  <div class="content ui form">
    <errors id="report-editor"></errors>
    <form id="thisForm" class="ui form" data-bind="submitByButton: 'thisFormSubmit'">
      <div class="field" id="identifier" data-bind="visible: showIdentifierObs">
        <label>Report identifier</label>
        <input type="text" data-bind="textInput: identifierObs, hasFocus: true" />
      </div>
      <div class="two fields">
        <div class="field" id="date">
          <label>Date</label>
          <input data-bind="flatpickr: dateObs, visible: isAddObs()" />
          <div class="inline-form-text" data-bind="text: dateObs, visible: !isAddObs()"></div>
        </div>
        <div class="field tag-editor" id="studyIds" data-bind="visible: isAddObs">
          <label>Restricted to studies</label>
          <tag-editor params="selectedObs: studyIdsObs, 
            allObs: studyOptionsObs, type: 'study IDs'"></tag-editor>
        </div>
        <div class="field" data-bind="visible: !isAddObs()">
          <label>Restricted to studies</label>
          <div class="inline-form-text" data-bind="text: studyIdsObs().join(', ')"></div>
        </div>
      </div>
      <div class="field" id="data">
        <label>JSON</label>
        <textarea data-bind="textInput: dataObs"></textarea>
      </div>
    </form>
  </div>
  <div class="actions">
    <button type="submit" form="thisForm" id="thisFormSubmit" class="ui small primary button" data-bind="click: save">
      Save
    </button>
    <button class="ui small button" data-bind="click: close">Close</button>
  </div>
</div>
