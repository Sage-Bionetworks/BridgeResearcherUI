<div class="ui modal">
    <i class="close icon"></i>
    <div class="header">
        Rules
    </div>
    <div class="ui form">
        <div class="rules-table" data-bind="visible: rulesObs().length === 0">
            <div class="rules-table-rule">
                There are no rules for this question.
            </div>
        </div>
        <div data-bind="foreach: rulesObs, visible: rulesObs().length !== 0" class="rules-table">
            <div class="rules-table-rule">
                <div>
                    <select class="ui dropdown" style="flex: 1" data-bind="options: $parent.operatorOptions,
                        optionsText: 'label', optionsValue: 'value', value: $data.operator"></select>
                </div>
                <div>
                    <input type="text" data-bind="textInput: $data.value, css: {
                        hidden: $data.operator() === 'de' || $data.operator() === 'always'}"/>
                </div>
                <div>
                    <select class="ui dropdown" data-bind="options: $parent.actionOptions, 
                        value: actionSelectedObs, optionsText: 'label', optionsValue: 'value'"></select>
                </div>
                <div style="flex: 1">
                    <select class="ui dropdown" data-bind="value: $data.skipTo, 
                        options: $parent.identifierOptions, optionsText: 'label', 
                        visible: $data.actionSelectedObs() === 'skipTo', optionsValue: 'value'"></select>
                    <select class="ui dropdown" data-bind="value: $data.assignDataGroup, 
                        options: $parent.dataGroupOptions, optionsText: 'label', 
                        visible: $data.actionSelectedObs() === 'assignDataGroup', optionsValue: 'value'"></select>
                </div>
                <div>
                    <div class="link" data-bind="click: $parent.deleteRule"><i class="delete icon"></i></div>
                </div>
            </div>
        </div>
    </div>
    <div class="actions">
        <button class="ui primary small button" data-bind="click: addRule">Add Rule</button>
        <button class="ui small button" data-bind="click: saveRules">Save</button>
        <button class="ui small button" data-bind="click: cancelRules">Cancel</button>
    </div>
</div>
