<div class="ui modal">
    <i class="close icon"></i>
    <div class="header">
        Rules
    </div>
    <div class="ui form">
        <div class="rules-table" data-bind="visible: rulesObs().length === 0">
            <div class="rules-table-rule">
                There are no rules for this question.
            </div>
        </div>
        <div data-bind="foreach: rulesObs, visible: rulesObs().length !== 0" class="rules-table">
            <div class="rules-table-rule">
                <div class="rules-table-rule-cell">
                    When value
                </div>
                <div class="rules-table-rule-cell">
                    <select class="ui dropdown" data-bind="options: $parent.operatorOptions,
                        optionsText: 'label', optionsValue: 'value', value: $data.operator"></select>                    
                </div>
                <div class="rules-table-rule-cell">
                    <input type="text" data-bind="textInput: $data.value, css: {hidden: $data.operator() === 'de'}"/>                        
                </div>
                <div class="rules-table-rule-cell">
                    then
                </div>
                <div class="rules-table-rule-cell">
                    <input type="radio" data-bind="checkedValue: 'true', checked: endSurvey,  
                        attr:{name: 'r'+$index(), id: 'rl'+$index()}"/>
                </div>
                <div class="rules-table-rule-cell">
                     <label data-bind="attr:{for: 'rl'+$index()}">end the survey, or</label>
                </div>
                <div class="rules-table-rule-cell">
                    <input type="radio" data-bind="checkedValue: 'false', checked: endSurvey,  
                        attr:{name: 'r'+$index(), id: 'rr'+$index()}"/>
                </div>
                <div class="rules-table-rule-cell">
                     <label data-bind="attr:{for: 'rr'+$index()}">skip to later question</label>
                </div>
                <div class="rules-table-rule-cell">
                    <select class="ui dropdown" data-bind="css: {hidden: $data.endSurvey() === 'true'}, 
                        options: $parent.identifierOptions, optionsText: 'label', optionsValue: 'value', 
                        value: $data.skipTo"></select>                    
                </div>
                <div class="rules-table-rule-cell">
                    <div class="link" data-bind="click: $parent.deleteRule"><i class="delete icon"></i></div>
                </div>
            </div>
        </div>
    </div>
    <div class="rules-editor-actions">
        <button class="ui primary small button" data-bind="click: addRule">Add Rule</button>
        <button class="ui small button" data-bind="click: saveRules">Save</button>
        <button class="ui small button" data-bind="click: cancelRules">Cancel</button>
    </div>
</div>
